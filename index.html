<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Answer Through Numerology</title>
  <link rel="icon" href="https://img.icons8.com/ios-filled/50/ffffff/numerology.png"/>
  <style>
    :root{
      --bg:#e5e7eb;
      --card:#f0f2f5;
      --text:#000;
      --shadow-light:rgba(255,255,255,0.8);
      --shadow-dark:rgba(0,0,0,0.15);
    }
    .dark{
      --bg:#1c1e2a;
      --card:#2a2c39;
      --text:#fff;
      --shadow-light:rgba(0,0,0,0.5);
      --shadow-dark:rgba(0,0,0,0.9);
    }
    *{box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
    body{
      background:var(--bg);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
      padding:1.5rem;
    }
    .wrapper{
      width:100%;
      max-width:480px;
      background:var(--card);
      border-radius:25px;
      padding:2rem;
      text-align:center;
      box-shadow: 12px 12px 20px var(--shadow-dark), -12px -12px 20px var(--shadow-light);
    }
    h1{margin-bottom:1.5rem;}
    input{
      width:100%;
      padding:0.8rem;
      margin:0.6rem 0;
      border:none;
      border-radius:15px;
      background:var(--card);
      color:var(--text);
      box-shadow: inset 6px 6px 12px var(--shadow-dark), inset -6px -6px 12px var(--shadow-light);
    }
    button{
      width:100%;
      padding:0.8rem;
      margin:0.45rem 0;
      border:none;
      border-radius:15px;
      background:var(--card);
      color:var(--text);
      font-weight:600;
      cursor:pointer;
      box-shadow: 6px 6px 12px var(--shadow-dark), -6px -6px 12px var(--shadow-light);
    }
    #result, #historySection{margin-top:1rem;}
    ul{list-style:none;padding:0;margin-top:0.4rem;}
    li{margin:0.35rem 0;}
    footer{margin-top:1.6rem;font-size:0.85rem;opacity:0.7;}
    /* Toggle Switch */
    .toggle-area{
      display:flex;
      align-items:center;
      justify-content:center;
      margin-bottom:1rem;
      gap:0.5rem;
    }
    .switch{
      position:relative;width:60px;height:28px;
    }
    .switch input{opacity:0;width:0;height:0;}
    .slider{
      position:absolute;top:0;left:0;right:0;bottom:0;
      background:var(--card);
      border-radius:34px;
      box-shadow: inset 4px 4px 8px var(--shadow-dark), inset -4px -4px 8px var(--shadow-light);
      transition:.4s;
    }
    .slider:before{
      position:absolute;content:"";height:22px;width:22px;
      left:3px;bottom:3px;border-radius:50%;
      background:var(--text);transition:.4s;
    }
    .switch input:checked + .slider:before{transform:translateX(30px);}
  </style>
</head>
<body>
  <div class="wrapper">
    <h1>ðŸ”¢ Numacal</h1>

    <!-- System Toggle -->
    <div class="toggle-area">
      <span>Chaldean</span>
      <label class="switch">
        <input type="checkbox" id="systemToggle" onchange="updateSystem()">
        <span class="slider"></span>
      </label>
      <span>Pythagorean</span>
    </div>

    <input type="text" id="question" placeholder="Enter your question"/>

    <button onclick="calculate()">Calculate</button>
    <button onclick="copyResult()">Copy Result</button>
    <button onclick="clearAll()">Clear</button>
    <button onclick="toggleDarkMode()">Toggle Dark Mode</button>

    <div id="result"></div>

    <div id="historySection">
      <h3>History</h3>
      <ul id="historyList"></ul>
    </div>
    <footer>Â© Manik Roy 2025</footer>
  </div>

  <script>
    const pythagoreanValues={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,J:1,K:2,L:3,M:4,N:5,O:6,P:7,Q:8,R:9,S:1,T:2,U:3,V:4,W:5,X:6,Y:7,Z:8};
    const chaldeanValues={A:1,B:2,C:3,D:4,E:5,F:8,G:3,H:5,I:1,J:1,K:2,L:3,M:4,N:5,O:7,P:8,Q:1,R:2,S:3,T:4,U:6,V:6,W:6,X:5,Y:1,Z:7};

    let currentSystem="chaldean";
    let lastResultText="";

    function updateSystem(){
      const toggle=document.getElementById('systemToggle');
      currentSystem = toggle.checked ? "pythagorean" : "chaldean";
      if(document.getElementById('result').innerHTML!==""){ calculate(); }
    }

    function reduceToSingleDigit(n){
      while(n>9){n=n.toString().split('').reduce((a,b)=>a+parseInt(b),0);}
      return n;
    }

    function calculate(){
      const text=document.getElementById('question').value.trim().toUpperCase();
      if(!text){document.getElementById('result').innerHTML='<p>Please enter a question.</p>';return;}

      const clean=text.replace(/[^A-Z]/g,'');
      let total=0;
      [...clean].forEach(ch=>{
        total+=(currentSystem==="chaldean" ? (chaldeanValues[ch]||0) : (pythagoreanValues[ch]||0));
      });

      const exp=reduceToSingleDigit(total);
      const res=(exp%2===0)?"YES":"NO";

      lastResultText = `${currentSystem.charAt(0).toUpperCase()+currentSystem.slice(1)}: ${exp} â†’ ${res}`;
      document.getElementById('result').innerHTML=`<p>${currentSystem.charAt(0).toUpperCase()+currentSystem.slice(1)}: ${exp} â†’ <strong>${res}</strong></p>`;

      const li=document.createElement('li');
      li.textContent=`Question: ${text} â†’ ${currentSystem.charAt(0).toUpperCase()+currentSystem.slice(1)}: ${exp} (${res})`;
      document.getElementById('historyList').prepend(li);
    }

    function copyResult(){
      if(!lastResultText){alert('No result to copy.');return;}
      navigator.clipboard.writeText(lastResultText);
      alert('Result copied to clipboard.');
    }

    function clearAll(){
      document.getElementById('question').value='';
      document.getElementById('result').innerHTML='';
      document.getElementById('historyList').innerHTML='';
      lastResultText='';
    }

    function toggleDarkMode(){
      document.body.classList.toggle('dark');
    }
  </script>
</body>
</html>
